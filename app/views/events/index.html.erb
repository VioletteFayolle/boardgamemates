
<div class="bgm-container">


  <div class="filter-bar" data-controller="input">

      <%= simple_form_for :search, url: events_path, method: :get, wrapper: :default, html: { class: 'search-form form-inline d-flex mt-3 align-items-center justify-content-center gap-3' } do |f| %>

    <div class="inputs-filter">

        <div class="form-group pb-2">
          <%= f.input :city, label: false, placeholder: "Entrez un lieu", input_html: { class: "search-input form-control" }, required: false %>
        </div>

        <div class="form-group">
          <%= f.input :boardgame, label: false, placeholder: "Entrez un jeu", input_html: { class: "search-input form-control" }, required: false %>
        </div>

    </div>
    <!--  <div class="form-group">
        <%= f.input :date, as: :string, label: false, placeholder: "SÃ©lectionnez une date", input_html: { class: "search-input form-control", data: { controller: "datepicker", input_target: "date" } }, required: false %>
      </div> -->
      <button type="submit" class="btn"><i class="fa-solid fa-magnifying-glass fs-2"></i></button>

    <% end %>

  <!-- <i class="fa-solid fa-calendar" data-input-target="btnCalendar" data-action="click->input#selectDate"></i> -->

  </div>

  <div style="width: 100%; height: 25vh; margin: 20px 0; border-radius: 1.5vh;"
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>


  <% if @events.any? %>
    <% @events.each do |event| %>
            <%= render partial: "events/card", locals: { event: event, show_event_creator: true } %>
    <% end %>
  <% end %>
</div>



<%= link_to image_tag("btn_plus.png", class:"btn-action"), new_event_path %>
<div style="padding-bottom: 7vh;"></div>
